const d=document.querySelector(".js-form-fillR"),_=document.querySelector(".js-tittleArrowR"),g=document.querySelector(".js-form-fillD"),M=document.querySelector(".js-tittleArrowD"),E=document.querySelector(".js-tittleArrowC"),i=document.querySelector(".js-buttonComparte"),h=document.querySelector(".js-arrowD"),u=document.querySelector(".js-arrowR"),m=document.querySelector(".js-arrowC"),D=e=>{e.preventDefault(),g.classList.toggle("collapsed"),d.classList.remove("collapsed"),i.classList.remove("collapsedButton"),h.classList.toggle("rotation"),u.classList.remove("rotation"),m.classList.remove("rotation"),n.classList.add("hidden")};M.addEventListener("click",D);const K=e=>{e.preventDefault(),d.classList.toggle("collapsed"),g.classList.remove("collapsed"),i.classList.remove("collapsedButton"),u.classList.toggle("rotation"),h.classList.remove("rotation"),m.classList.remove("rotation"),n.classList.add("hidden")};_.addEventListener("click",K);const T=e=>{e.preventDefault(),i.classList.toggle("collapsedButton"),g.classList.remove("collapsed"),d.classList.remove("collapsed"),m.classList.toggle("rotation"),h.classList.remove("rotation"),u.classList.remove("rotation"),n.classList.add("hidden")};E.addEventListener("click",T);const I=document.querySelector(".js-color-marge"),B=document.querySelector(".js-color-krusty"),P=document.querySelector(".js-color-apu"),r=document.querySelector(".js-borderCard"),f=document.querySelectorAll(".js-iconCard"),v=document.querySelectorAll(".js-containerIcon"),o=document.querySelector(".js-profile-name"),p=document.querySelector(".js-profile-job"),j=document.querySelector(".js-link-linkedin"),k=document.querySelector(".js-link-github"),b=document.querySelector(".js-link-phone"),S=document.querySelector(".js-link-email"),H=document.querySelector(".js-form-fillR"),U=document.querySelector(".js-response"),F=document.querySelector(".js-text-response"),l=document.querySelector(".js-twitter"),n=document.querySelector(".js-requiredFormMessage"),s={palette:1,name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""},q=e=>{o.classList.add("colortittleMarge"),o.classList.remove("colortittleKrusty"),o.classList.remove("colortittleApu"),r.classList.add("card__profile-title"),r.classList.remove("colorBorderCardKrusty"),r.classList.remove("colorBorderCardApu");for(const t of f)t.classList.add("colortittleMarge"),t.classList.remove("colortittleKrusty"),t.classList.remove("colortittleApu");for(const t of v)t.classList.add("card__icon"),t.classList.remove("borderKrusty"),t.classList.remove("borderApu");s.palette=e.target.value};I.addEventListener("click",q);const O=e=>{o.classList.add("colortittleKrusty"),o.classList.remove("colortittleMarge"),o.classList.remove("colortittleApu"),r.classList.add("colorBorderCardKrusty"),r.classList.remove("card__profile-title"),r.classList.remove("colorBorderCardApu");for(const t of f)t.classList.add("colortittleKrusty"),t.classList.remove("colortittleMarge"),t.classList.remove("colortittleApu");for(const t of v)t.classList.add("borderKrusty"),t.classList.remove("card__icon"),t.classList.remove("borderApu");s.palette=e.target.value};B.addEventListener("click",O);const x=e=>{o.classList.add("colortittleApu"),o.classList.remove("colortittleKrusty"),o.classList.remove("colortittleMarge"),r.classList.add("colorBorderCardApu"),r.classList.remove("colorBorderCardKrusty"),r.classList.remove("card__profile-title");for(const t of f)t.classList.add("colortittleApu"),t.classList.remove("colortittleKrusty"),t.classList.remove("colortittleMarge");for(const t of v)t.classList.add("borderApu"),t.classList.remove("borderKrusty"),t.classList.remove("card__icon");s.palette=e.target.value};P.addEventListener("click",x);H.addEventListener("input",e=>{e.preventDefault(),e.target.id==="name"?e.target.value?(o.innerHTML=e.target.value,s.name=e.target.value):o.innerHTML="Ralph Wiggum":e.target.id==="work"?e.target.value?(p.innerHTML=e.target.value,s.job=e.target.value):p.innerHTML="Estudiante de mi cole":e.target.id==="linkedin"?(s.linkedin=e.target.value,j.href=s.linkedin):e.target.id==="github"?(s.github=e.target.value,k.href="https://github.com/"+s.github):e.target.id==="telefono"?(s.phone=e.target.value,b.href="tel:"+s.phone):e.target.id==="email"&&(s.email=e.target.value,S.href="mailto:"+s.email)});const $=document.querySelector(".js-buttonShare"),G=e=>{if(e.preventDefault(),!R.checkValidity()){n.classList.remove("hidden"),d.classList.toggle("collapsed"),i.classList.remove("collapsedButton"),u.classList.toggle("rotation"),m.classList.remove("rotation");return}i.classList.add("buttonShareclick"),U.classList.remove("hidden"),s.palette=parseInt(s.palette),console.log(s),fetch("https://dev.adalab.es/api/card/",{method:"POST",body:JSON.stringify(s),headers:{"Content-type":"application/json"}}).then(t=>t.json()).then(function(t){N(t)}).catch(t=>{console.error("Error:",t)})};function N(e){let t,L;if(e.success){let y=function(){l.classList.remove("hidden")};var X=y;setTimeout(y,1e3),L='<h1 class="tittle-share">La tarjeta se ha creado correctamente... ¡Todo ha salido a pedir de Milhouse!</h1>',t='<a class="link-twitter" href='+e.cardURL+">"+e.cardURL+"</a>",l.setAttribute("href",`https://twitter.com/intent/tweet?text=Disfruta de mi nueva tarjeta de visita&url=${e.cardURL}`)}else l.classList.add("hidden"),L='<h1 class="tittle-share message-response">Mosquis... La tarjeta no ha sido creada:</h1>',t='<p class= "message-response"> ¡Ouch! La tarjeta no ha podido crearse correctamente... </p>',e.error==="Database error: ER_DATA_TOO_LONG"?(l.classList.add("hidden"),t+='<p class="message-response" >Error en base de datos: algún dato es demasiado largo.</p>'):(l.classList.add("hidden"),t+=`<p class = "message-response"> ${e.error} </p>`);const w=L+t;F.innerHTML=w}$.addEventListener("click",G);const c=new FileReader,W=document.querySelector(".js__profile-upload-btn"),C=document.querySelector(".js__profile-image"),A=document.querySelector(".js__profile-preview");function J(e){const t=e.currentTarget.files[0];c.addEventListener("load",V),c.readAsDataURL(t)}function V(){C.src=c.result,A.style.backgroundImage=`url(${c.result})`,s.photo=c.result}W.addEventListener("change",J);const z=document.querySelector(".js-buttonReset"),R=document.querySelector(".js-form"),a={name:"Ralph Wiggum",job:"Estudiante de mi cole",email:"mailto:",phone:"tel:",linkedin:" ",github:"https://github.com/",image:"./images/ralph.jpg"},Q=e=>{R.reset(),o.innerHTML=a.name,p.innerHTML=a.job,S.href=a.email,b.href=a.phone,j.href=a.linkedin,k.href=a.github,C.src=a.image,A.style.backgroundImage="",n.classList.add("hidden"),q()};z.addEventListener("click",Q);
//# sourceMappingURL=main.js.map
